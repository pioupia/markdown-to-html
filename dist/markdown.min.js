/* Create By Pioupia https://github.com/pioupia/markdown-to-html/ | MIT License */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};var markdownConvertor=function(a){this.specials=[["**","strong"],["__",'span style="text-decoration: underline;"'],["_","*","em"],["```","code"],["~~","s"],["||","span class=\"textHidden\" onclick=\"event.target.classList.contains('active')?event.target.classList.remove('active'):event.target.classList.add('active')\""]];this.mode=(null==a?void 0:a.mode)||"view"};markdownConvertor.prototype.render=function(a){a=this.searchBlockQuote(a);a=this.replaceAllCharacters(a);a=this.getColors(a);a=this.getImages(a);a=this.replaceLigne(a);a=this.detectLink(a);return a=this.getTitles(a)};markdownConvertor.prototype.addStyle=function(a,b){if(!a.isArray||"string"!==typeof b)return console.log("Please provide an Array for the caracters to replace and a string for the value you want to replace by.");this.specials.push([].concat($jscomp.arrayFromIterable(a),[repaceBy]));return this};markdownConvertor.prototype.searchBlockQuote=function(a){a=a.split(/> /);for(var b=1;b<a.length;b++)if(!(a[b-1]+"> ").match(/<\/(?:article|aside|bdi|command|details|dialog|summary|figure|figcaption|footer|header|hgroup|mark|meter|nav|progress|ruby|rt|rp|section|time|wbr|audio|video|source|embed|track|canvas|datalist|keygen|output|!--|!DOCTYPE|a|abbr|address|area|b|base|bdo|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|dd|del|dfn|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|head|hr|html|i|iframe|img|input|ins|kdb|keygen|label|legend|li|link|map|menu|meta|noscript|object|ol|optgroup|option|p|param|pre|q|s|samp|script|select|small|source|span|strong|style|sub|sup|table|tbody|td|textarea|tfoot|th|thead|title|tr|u|ul|var|acronym|applet|basefont|big|center|dir|font|frame|frameset|noframes|strike|tt)(?:(?: [^<>]*)>|>?)+>/)){var c=a[b].split("\n")[0],d=void 0;a[b]="<blockquote>"+("edit"==this.mode?"> ":"")+c+"</blockquote>"+(null==(d=a[b].split("\n").slice(1))?void 0:d.join("\n"))}return a.join("")};markdownConvertor.prototype.replaceAllCharacters=function(a){var b=this,c=a;JSON.parse(JSON.stringify(this.specials)).forEach(function(d){var e=d.pop();d.forEach(function(f){for(var g=a.split(f),k=!0,h=1;h<g.length;h++)k&&(g[h]="<"+e+">"+("edit"==b.mode?f:"")+g[h]+("edit"==b.mode?f:"")+"</"+e.split(" ")[0]+">"),k=!k;a=c=g=g.join("")})});return c};markdownConvertor.prototype.getColors=function(a){a=a.split("{ ");for(var b=1;b<a.length;b++){var c=a[b].split("}")[0],d=void 0;a[b]="<span"+(c.includes("color")?' style="color:'+c.split(":")[1].split(";")[0].trim()+'"':"")+">"+c.split(";").slice(1).join(";")+"</span>"+(null==(d=a[b].split("}").slice(1))?void 0:d.join("}"))}return a.join("")};markdownConvertor.prototype.getImages=function(a){a=a.split("![");for(var b,c=1;c<a.length;c++){b=a[c].split("](");var d='<img alt="'+b[0]+'" title="'+b[0]+'"';b=b[1].split(")");d+=' src="'+b[0]+'"';if(0===b[1].indexOf("{")){var e=void 0;b=null==(e=b[1].split("{")[1].split("}")[0])?void 0:e.split(";");d+=" width='"+b[0]+"' height="+b[1];b=a[c].split(/[^\]]*]\([^)]*\)\{[^}]*\}/)[1]}else b=a[c].split(/[^\]]*]\([^)]*\)/)[1];a[c]=d+"> "+b}return a.join("")};markdownConvertor.prototype.replaceLigne=function(a){return a.replace(/(?:\r\n|\r|\n)/g,"<br>")};markdownConvertor.prototype.detectLink=function(a){return a.replace(/(https?:\/\/[^\s]+)/g,function(b){if(b.includes('"'))return b;var c=b.match(/<\/?(?:article|aside|bdi|command|details|dialog|summary|figure|figcaption|footer|header|hgroup|mark|meter|nav|progress|ruby|rt|rp|section|time|wbr|audio|video|source|embed|track|canvas|datalist|keygen|output|'+            '!--|!DOCTYPE|a|abbr|address|area|b|base|bdo|blockquote|body|'+            'br|button|canvas|caption|cite|code|col|colgroup|dd|del|dfn|div|'+            'dl|dt|em|embed|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|head|hr|html|i|iframe|img|input|ins|kdb|keygen|label|legend|li|link|map|menu|meta|noscript|object|ol|optgroup|option|p|param|'+            'pre|q|s|samp|script|select|small|source|span|strong|style|sub|'+            'sup|table|tbody|td|textarea|tfoot|th|thead|title|tr|u|ul|var|'+            'acronym|applet|basefont|big|center|dir|font|frame|frameset|noframes|strike|tt)(?:(?: [^<>]*)>|>?)+>/),d,e,f;return'<a href="'+(c&&0<(null!=(d=null==c?void 0:c.length)?d:0)?b.slice(0,b.indexOf(c[0])):b)+'" target="_blank" class="link">'+(c&&0<(null!=(e=null==c?void 0:c.length)?e:0)?b.slice(0,b.indexOf(c[0])):b)+"</a>"+(c&&0<(null!=(f=null==c?void 0:c.length)?f:0)?b.slice(b.indexOf(c[0])):"")})};markdownConvertor.prototype.getTitles=function(a){for(var b=5;0<b;b--){a=a.split("#".repeat(b));for(var c=1;c<a.length;c++){var d=a[c].split("<br>"),e=void 0;a[c]="<h"+b+">"+d[0]+"</h"+b+">\n"+((null==(e=d.slice(1))?void 0:e.join("<br>"))||"")}a=a.join("")}return a};markdownConvertor.prototype.setMode=function(a){if(!["edit","view"].includes(a))return"The chosen mode does not exist";this.mode=a;return!0}
